<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>Operation Type Designer</title>
<link href="gittokCSS.css" rel="stylesheet" type="text/css" />
</head>

<body>
<p class="FirstHeader">Operation Type Designer</p>
<p class="secondHeader">Introduction</p>
<p class="mainSentence">Operation types used in a feature type or an association type are defined in Operation Type Designer. Operation is a property of a feature which gets argument values as input, processes by applying a program module, and returns output value as the derived attribute of a feature or an association. Geospatial analyses are implemented as operations in gittok.</p>
<p class="mainSentence">Elements used to define operation are as follows.</p>
<p class="mainSentence">1. Algorithm (program module)<br />
  2. Operation name<br />
  3. Arguments for input<br />
  4. Return attribute name</p>
<p class="mainSentence">An operation is clearly defined as an expression shown below on the class diagram.</p>
<p class="mainSentence">operation (argument1:DataType1, argument2:DataType2, ......): derived_attribute_name: Datatype;</p>
<p class="mainSentence">A combination of operation name and arguments is called signature. </p>
<p class="mainSentence">However, abbreviated notation is allowed because the notation will be too long and complex.</p>
<p class="mainSentence">Algorithm in this case is a program module and gittok provides fundamental operations for users. However the author recommends the users to add new operations so as to answer the user demands. </p>
<p class="mainSentence">Operation name is a name of the program module. In gittok every program module is defined in the class as operations. Thus the name is defined as a combination of ClassName and OperationName (e.g., &quot;getArea&quot;).</p>
<p class="mainSentence">Arguments are parameters for input. For example, to get the area of something, &quot;shape:SG_Surface&quot; is the argument. Meanwhile, if someone wants to get the area of forest which has an attribute &quot;district:SG_Surface&quot;, a district corresponds the argument &quot;shape&quot;. The combination between the argument and the attribute is called argument attribute pair.</p>
<p class="mainSentence">Return value is a result of operation. Return value is stored in a derived attribute.</p>
<p class="secondHeader">Example of feature operation</p>
<p class="mainSentence">Let’s try to define an operation to get the area of a building (Figure 1). </p>
<p class="mainSentence">Create a feature type &quot;Building&quot; on Feature Type Designer. Then define an attribute &quot;shape: SG_Surface&quot; and a derived attribute &quot;area:Real&quot;. &quot;Shape&quot; will be an argument and &quot;area&quot; will store the return value of the operation.</p>
<p class="mainSentence">Next, let’s define the operation to get the area of a building.  Open Operation Type Designer from &quot;Building&quot; editing on Feature Type Designer. Select SurfaceArea in Provided operations list. Click &quot;getArea&quot; located under SurfaceArea. Click &quot;getArea&quot; listed in Selected operations list. Then the argument &quot;surface:SG_Surface&quot; appears in Arguments list. Select &quot;shape&quot; in Attribute types list and select &quot;surface&quot; in Arguments list. Then click &quot;add&quot; button. The pair of argument and attribute is shown in Argument atribute pair list. The column &quot;s/f/t&quot; is an item to show which feature or association is the source of an attribute. It is described in detail later.</p>
<p class="mainSentence">Return value is stored in the derived attribute &quot;area&quot; selected by clicking &quot;set&quot; button after selecting the attribute &quot;area&quot; in Attribute types list.</p>
<p class="secondHeader">Operation Type Designer (operation in feature)</p>
<p class="secondHeader"><img src="../figures/OperationTypeDesigner_1.png" width="575" height="672" alt="OperationTypeDesigner_1" /></p>
<p class="mainSentence">Figure 1. Operation to get the area of shape</p>
<p class="thirdHeader">FIELDS</p>
<p class="mainSentence"><strong>provided operations (selectable)</strong><br />
  An operation is selected by clicking the list. The type and the operation name are shown in &quot;selected operation&quot; list as the result of selection. </p>
<p class="mainSentence"><strong>attribute types (selectable)</strong><br />
  This is a list of attribute types included in a feature type or an association type.  If the operation is defined in the association type, attribute type can be selected from &quot;self&quot;, &quot;from&quot; and &quot;to&quot;. &quot;self&quot; is the association type selected now. &quot;from&quot; is the from-feature and &quot;to&quot; is the &quot;to-feature&quot;.<br />
  An attribute corresponding with an argument is selected in this list </p>
<p class="mainSentence"><strong>arguments (selectable)</strong><br />
  Arguments of the operation is listed here. An argument corresponding with the attribute of feature/association type is selected by clicking the appropriate argument in this list.</p>
<p class="mainSentence"><strong>argument attribute pair</strong><br />
  A combination of argument and attribute is shown by clicking &quot;add&quot; button. &quot;from/to&quot; column is used to see which feature or association is the source of pair. </p>
<p class="mainSentence"><strong>return type</strong><br />
  The data type of the operation is shown here after the selection of the operation from &quot;provided operations&quot; list.</p>
<p class="mainSentence"><strong>return attribute name</strong><br />
  The attribute name which sores the return value is shown in this field.</p>
<p class="thirdHeader">BUTTONS</p>
<p class="mainSentence"><strong>self</strong><br />
  Attributes included in the self-feature is listed by clicking this radio button.</p>
<p class="mainSentence"><strong>to</strong><br />
  When this feature links the to-feature through the association, attributes included in the to-feature is listed by clicking this radio button.</p>
<p class="mainSentence"><strong>add</strong><br />
  A pair of an argument and an attribute is shown by clicking &quot;add&quot; button.</p>
<p class="mainSentence"><strong>delete (argument attribute pair)</strong><br />
  The selected pair is deleted by clicking this button.</p>
<p class="mainSentence"><strong>delete (selected operations)</strong><br />
  The selected operation is deleted by clicking this button.</p>
<p class="mainSentence"><strong>set</strong><br />
  The derived attribute	selected in the attribute types list become a return attribute bh¥y clicking this button. The data type of attribute shall be same as the return data type declared by the operation.</p>
<p class="mainSentence"><strong>日本語</strong><br />
  今あなたが読んでいるドキュメントが表示されます．</p>
<p class="mainSentence"><strong>English</strong><br />
  You can read the tutorial written in English.</p>
<p class="mainSentence"><span class="secondHeader">Example of association operation</span></p>
<p class="mainSentence">Association type may have attributes and operations. For example, &quot;a road in front of a building&quot; is an association between road and building. It can be called &quot;RtoB&quot;. This building is an &quot;along side building&quot; from the viewpoint of the road. In other words, &quot;along side&quot; is the roll of the building. The distance between road and building can be an attribute of this association. An operation to get distance from the road to the building can be also a property of RtoB. </p>
<p class="mainSentence">Let’s define &quot;Road&quot; and &quot;Building&quot; on Feature Type Designer.  &quot;Road&quot; has &quot;centerLine:SG_Curve&quot; as its attribute .Building has &quot;shape:SG_Surface&quot;  and &quot;distanceFromRoad:Real&quot; as the derived attribute. Distance will be acquired by the operation defined in the association.</p>
<p class="mainSentence">Then, an association  &quot;BtoR&quot; is defined on Association Type Designer. This association type has theoperation to get distance between curve and surface. The operation to get distance is defined by selecting &quot;DistanceBetween:distanceCtoS&quot; on Operation Type Designer.</p>
<p class="mainSentence"><span class="secondHeader">Operation Type Designer (operation in association)</span></p>
<p class="mainSentence"><img src="../figures/OperationTypeDesigner_2.png" width="575" height="672" alt="OperationTypeDesigner_2" /></p>
<p class="mainSentence">&nbsp;</p>
</body>
</html>

<?xml version="1.0" encoding="utf-8"?>
<s:Window xmlns:fx="http://ns.adobe.com/mxml/2009" 
		  xmlns:s="library://ns.adobe.com/flex/spark" 
		  xmlns:mx="library://ns.adobe.com/flex/mx" width="313" height="338"
		  title="Cartographer"
		  backgroundColor="#c5c5c5"
		  creationComplete="initializeApp()">
	<s:layout>
		<s:BasicLayout/>
	</s:layout>

	<fx:Script>
		<![CDATA[
			import mx.collections.ArrayList;
			import mx.controls.Alert;
			
			public var symbolDesigner:SymbolDesigner;
			public var labelDesigner:LabelDesigner;
			public var portrayalDesigner:PortrayalDesigner;
			public var gazetteerDesigner:GazetteerDesigner;
			public var mapEditor:MapEditor;
			public var listDesigner:ListDesigner;
			public var listViewer:ListViewer;
						
			protected function initializeApp():void {
				this.move(300, 400);
			}

			protected function symbolButton_clickHandler(event:MouseEvent):void
			{
				symbolDesigner = new SymbolDesigner();
				
				symbolDesigner.open();
				symbolDesigner.title = "Cartographer >";
			}
			
			protected function labelButton_clickHandler(event:MouseEvent):void
			{
				labelDesigner = new LabelDesigner();
				
				labelDesigner.open();
				labelDesigner.title = "Cartographer >";
			}
			
			protected function portrayalDesignButton_clickHandler(event:MouseEvent):void
			{
				
				portrayalDesigner = new PortrayalDesigner();
				
				portrayalDesigner.open();
				portrayalDesigner.title = "Cartographer >";
				
			}
			
			protected function gazetteerButton_clickHandler(event:MouseEvent):void
			{
				gazetteerDesigner = new GazetteerDesigner();
				
				gazetteerDesigner.open();
				gazetteerDesigner.title = "Cartographer >";
				
			}
			
			protected function mapEditingButton_clickHandler(event:MouseEvent):void
			{
				mapEditor = new MapEditor();
				
				mapEditor.open();
				mapEditor.title = "Cartographer >";
				mapEditor.addEventListener(Event.CLOSING, mapClose);
				
			}
			
			private function mapClose(event:Event):void {
				Mouse.cursor = "arrow";
				
				if (mapEditor.gazetteerWindow	!= null)	mapEditor.gazetteerWindow.close();
				if (mapEditor.videoListWindow 	!= null)	mapEditor.videoListWindow.close();
				if (mapEditor.memoListWindow 	!= null) 	mapEditor.memoListWindow.close();				
				if (mapEditor.urlListWindow 	!= null) 	mapEditor.urlListWindow.close();
				if (mapEditor.imageListWindow 	!= null) 	mapEditor.imageListWindow.close();
				if (mapEditor.soundListWindow 	!= null) 	mapEditor.soundListWindow.close();
				if (mapEditor.addressListWindow != null) 	mapEditor.addressListWindow.close();
			}
			
			protected function ListDesignButton_clickHandler(event:MouseEvent):void
			{
				listDesigner = new ListDesigner();
				
				listDesigner.open();
				listDesigner.title = "Cartographer >";
				listDesigner.addEventListener(Event.CLOSING, listClose);
			}
			
			private function listClose(event:Event):void {
				
			}
			
			// Text and instruction  Controls
			protected function text_jp_clickHandler(event:MouseEvent):void
			{
				var request:URLRequest = new URLRequest("documents/jp/cartographer_jp.html");
				navigateToURL(request);
			}
			
			protected function text_en_clickHandler(event:MouseEvent):void
			{
				var request:URLRequest = new URLRequest("documents/en/cartographer_en.html");
				navigateToURL(request);
			}
			

			protected function listingButton_clickHandler(event:MouseEvent):void
			{
				if (listViewer == null) {
					listViewer = new ListViewer();
					listViewer.open();
					listViewer.title = "Cartographer >";
					listViewer.addEventListener(Event.CLOSING, listViewerClose);
					
				}
				
			}
			
			protected function listViewerClose(event:Event):void {
				
			}
			
		]]>
	</fx:Script>

	<fx:Declarations>
		<!-- 非ビジュアルエレメント (サービス、値オブジェクトなど) をここに配置 -->
	</fx:Declarations>
	<s:Image x="10" y="7" source="@Embed(source='images/pictRepresentation1.png')" />
	<s:Label x="77" y="15" text="Cartographer" fontSize="16"/>
	<s:Button x="24" y="76" label="Symbol Style Design " width="165" height="25" id="symbolButton" 
			  click="symbolButton_clickHandler(event)" />
	<s:Button x="24" y="113" label="Label Style Design " width="165" height="25" id="labelButton" 
			  click="labelButton_clickHandler(event)" />
	<s:Button id="portrayalDesignButton" x="24" y="149" width="165" height="25" label="Portrayal Schema Design"
			  click="portrayalDesignButton_clickHandler(event)"/>
	<s:Button id="gazetteerButton" x="25" y="185" width="164" height="25" label="Gazetteer Design"
			  click="gazetteerButton_clickHandler(event)"/>
	<s:Button id="mapEditingButton" x="204" y="122" width="91" height="40" label="Mapping"
			  click="mapEditingButton_clickHandler(event)"/>
	<s:Label x="220" y="10" text="日本語" fontFamily="Osaka" color="#969696" fontSize="11"
			 buttonMode="true" click="text_jp_clickHandler(event)"/>
	<s:Label x="261" y="12" text="English" color="#969696"
			 buttonMode="true" click="text_en_clickHandler(event)"/>
	<s:Button id="ListDesignButton" x="25" y="248" width="164" height="25" label="List Schema Design"
			  click="ListDesignButton_clickHandler(event)"/>
	<s:Button id="listingButton" x="204" y="252" width="91" label="Listing"
			  click="listingButton_clickHandler(event)"/>
</s:Window>
